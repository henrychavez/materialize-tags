{"version":3,"sources":["materialize-tags.js"],"names":["$","tagClass","item","itemValue","toString","itemText","this","itemTitle","onTagExists","$tag","hide","fadeIn","TagsMaterialize","element","options","itemsArray","$element","objectItems","placeholderText","hasAttribute","attr","inputSize","Math","max","length","$container","$input","appendTo","$label","parent","find","before","build","on","addClass","next","focus","label","parents","hasClass","parentContainer","tags","removeClass","val","makeOptionItemFunction","key","propertyName","makeOptionFunction","value","htmlEncode","htmlEncodeContainer","text","html","doGetCaretPosition","oField","iCaretPos","document","selection","oSel","createRange","moveStart","selectionStart","keyCombinationInList","keyDownEvent","lookupList","found","each","index","keyCombination","which","alt","hasOwnProperty","altKey","shift","shiftKey","ctrl","ctrlKey","defaultOptions","freeInput","addOnBlur","maxTags","undefined","maxChars","confirmKeys","trimValue","allowDuplicates","deleteTagsOnBackspace","deleteTagsOnDeleteKey","MoveTagOnLeftArrow","MoveTagOnRightArrow","autoselect","CapitalizeFirstLetterOnly","prefilled","prototype","constructor","add","dontPushVal","self","trim","charAt","toUpperCase","slice","match","tagName","items","split","i","pushVal","existing","grep","maxInputLength","beforeItemAddEvent","Event","cancel","trigger","push","data","findInputWrapper","after","blur","prop","$existingTag","filter","remove","other","beforeItemRemoveEvent","inArray","splice","removeAll","pop","refresh","contents","nodeType","nodeValue","map","typeahead","extend","typeaheadjs","typeaheadConfig","typeaheadDatasets","isArray","proxy","obj","datum","valueKey","event","removeAttr","target","$inputWrapper","prev","$prevTag","$nextTag","textLength","ceil","maxLengthReached","substr","preventDefault","closest","destroy","off","removeData","show","input","elt","container","parentNode","fn","materialtags","arg1","arg2","arg3","results","retVal","defaults","Constructor","window","jQuery"],"mappings":"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","file":"materialize-tags.min.js","sourcesContent":["(function ($)\r\n{\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t* Default Configuration\r\n\t*\r\n\t* @type {{tagClass: tagClass, itemValue: itemValue, itemText: itemText, itemTitle: itemTitle, freeInput: boolean, addOnBlur: boolean, maxTags: undefined, maxChars: undefined, confirmKeys: number[], onTagExists: onTagExists, trimValue: boolean, allowDuplicates: boolean}}\r\n\t*/\r\n\tvar defaultOptions = {\r\n\t\ttagClass\t\t\t\t\t: tagClass,\r\n\t\titemValue\t\t\t\t\t: itemValue,\r\n\t\titemText\t\t\t\t\t: itemText,\r\n\t\titemTitle\t\t\t\t\t: itemTitle,\r\n\t\tfreeInput\t\t\t\t\t: true,\r\n\t\taddOnBlur\t\t\t\t\t: true,\r\n\t\tmaxTags\t\t\t\t\t\t: undefined,\r\n\t\tmaxChars\t\t\t\t\t: undefined,\r\n\t\tconfirmKeys\t\t\t\t\t: [9,13, 44, 188],\r\n\t\tonTagExists\t\t\t\t\t: onTagExists,\r\n\t\ttrimValue\t\t\t\t\t: true,\r\n\t\tallowDuplicates \t\t\t: false,\r\n\t\tdeleteTagsOnBackspace\t\t: true,\r\n\t\tdeleteTagsOnDeleteKey\t\t: true,\r\n\t\tMoveTagOnLeftArrow\t\t\t: true,\r\n\t\tMoveTagOnRightArrow \t\t: true,\r\n\t\tautoselect\t\t\t\t\t: false,\r\n\t\tCapitalizeFirstLetterOnly\t: false,\r\n\t\tprefilled\t\t\t\t\t: null,\r\n\t};\r\n\r\n\r\n\tfunction tagClass(item)\r\n\t{\r\n\t\treturn 'chip';\r\n\t}\r\n\r\n\tfunction itemValue(item)\r\n\t{\r\n\t\treturn item ? item.toString() : item;\r\n\t}\r\n\r\n\tfunction itemText(item)\r\n\t{\r\n\t\treturn this.itemValue(item);\r\n\t}\r\n\r\n\tfunction itemTitle(item)\r\n\t{\r\n\t\treturn null;\r\n\t}\r\n\r\n\tfunction onTagExists(item, $tag)\r\n\t{\r\n\t\t$tag.hide().fadeIn();\r\n\t}\r\n\r\n\tfunction selectFirstSuggestion(){\r\n\t\t$('.tt-suggestion.tt-selectable').first().addClass('tt-cursor');\r\n\t\tconsole.log($('.tt-suggestion.tt-selectable'));\r\n\t}\r\n\r\n\t/**\r\n\t* Constructor function\r\n\t*\r\n\t* @param element\r\n\t* @param options\r\n\t* @constructor\r\n\t*/\r\n\tfunction TagsMaterialize(element, options)\r\n\t{\r\n\t\tthis.itemsArray = [];\r\n\r\n\t\tthis.$element = $(element);\r\n\t\tthis.$element.hide();\r\n\r\n\t\tthis.objectItems\t= options && options.itemValue;\r\n\t\tthis.placeholderText = element.hasAttribute('placeholder') ? this.$element.attr('placeholder') : '';\r\n\t\tthis.inputSize\t  = Math.max(1, this.placeholderText.length);\r\n\r\n\t\tthis.$container = $('<div class=\"materialize-tags\"></div>');\r\n\t\tthis.$input\t= $('<input type=\"text\" class=\"n-tag\"  placeholder=\"' + this.placeholderText + '\"/>').appendTo(this.$container);\r\n\t\tthis.$label\t= this.$element.parent().find('label');\r\n\r\n\t\tthis.$element.before(this.$container);\r\n\t\tthis.build(options);\r\n\r\n\t\tthis.$label.on('click', function ()\r\n\t\t{\r\n\t\t\t$(this).addClass('active');\r\n\t\t\t$(this).next('.materialize-tags').find('input.n-tag').focus();\r\n\t\t});\r\n\r\n\t\tthis.$input.on('focus', function ()\r\n\t\t{\r\n\t\t\tvar label = $(this).parents('.materialize-tags').parent().find('label');\r\n\t\t\t$(this).parents('.materialize-tags').addClass('active');\r\n\r\n\t\t\tif (!label.hasClass('active'))\r\n\t\t\t{\r\n\t\t\t\tlabel.addClass('active');\r\n\t\t\t}\r\n\t\t}).on('focusout', function ()\r\n\t\t{\r\n\t\t\tvar parentContainer = $(this).parents('.materialize-tags'),\r\n\t\t\t\ttags\t\t\t= parentContainer.find('span.chip');\r\n\t\t\tparentContainer.removeClass('active');\r\n\t\t\t// Verify if is empty and remove \"active\" class from label\r\n\t\t\tif (tags.length == 0 && $(this).val().length == 0)\r\n\t\t\t{\r\n\t\t\t\tparentContainer.parent().find('label').removeClass('active');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tTagsMaterialize.prototype = {\r\n\t\tconstructor : TagsMaterialize,\r\n\r\n\t\t/**\r\n\t\t* Adds the given item as a new tag. Pass true to dontPushVal to prevent\r\n\t\t* updating the elements val()\r\n\t\t*\r\n\t\t* @param item\r\n\t\t* @param dontPushVal\r\n\t\t* @param options\r\n\t\t*/\r\n\t\tadd : function (item, dontPushVal, options)\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tif (self.options.maxTags && self.itemsArray.length >= self.options.maxTags)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Ignore false values, except false\r\n\t\t\tif (item !== false && !item)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Trim value\r\n\t\t\tif (typeof item === \"string\" && self.options.trimValue)\r\n\t\t\t{\r\n\t\t\t\titem = $.trim(item);\r\n\t\t\t}\r\n\r\n\t\t\t// CapitalizeFirstLetter\r\n\t\t\tif (typeof item === \"string\" && self.options.CapitalizeFirstLetterOnly)\r\n\t\t\t{\r\n\t\t\t\titem = item.charAt(0).toUpperCase() + item.slice(1);\r\n\t\t\t}\r\n\r\n\t\t\t// Throw an error when trying to add an object while the itemValue option was not set\r\n\t\t\tif (typeof item === \"object\" && !self.objectItems)\r\n\t\t\t{\r\n\t\t\t\tthrow(\"Can't add objects when itemValue option is not set\");\r\n\t\t\t}\r\n\r\n\t\t\t// Ignore strings only contain whitespace\r\n\t\t\tif (item.toString().match(/^\\s*$/))\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof item === \"string\" && this.$element[0].tagName === 'INPUT')\r\n\t\t\t{\r\n\t\t\t\tvar items = item.split(',');\r\n\t\t\t\tif (items.length > 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (var i = 0; i < items.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.add(items[i], true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!dontPushVal)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tself.pushVal();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar itemValue = self.options.itemValue(item),\r\n\t\t\t\titemText  = self.options.itemText(item),\r\n\t\t\t\ttagClass  = self.options.tagClass(item),\r\n\t\t\t\titemTitle = self.options.itemTitle(item);\r\n\r\n\t\t\t// Ignore items all ready added\r\n\t\t\tvar existing = $.grep(self.itemsArray, function (item) { return self.options.itemValue(item) === itemValue; })[0];\r\n\t\t\tif (existing && !self.options.allowDuplicates)\r\n\t\t\t{\r\n\t\t\t\t// Invoke onTagExists\r\n\t\t\t\tif (self.options.onTagExists)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar $existingTag = $(\".tag\", self.$container).filter(function () { return $(this).data(\"item\") === existing; });\r\n\t\t\t\t\tself.options.onTagExists(item, $existingTag);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// if length greater than limit\r\n\t\t\tif (self.items().toString().length + item.length + 1 > self.options.maxInputLength)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// raise beforeItemAdd arg\r\n\t\t\tvar beforeItemAddEvent = $.Event('beforeItemAdd', {item : item, cancel : false, options : options});\r\n\t\t\tself.$element.trigger(beforeItemAddEvent);\r\n\t\t\tif (beforeItemAddEvent.cancel)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// register item in internal array and map\r\n\t\t\tself.itemsArray.push(item);\r\n\r\n\t\t\t// add a tag element\r\n\t\t\tvar $tag = $('<span class=\"' + htmlEncode(tagClass) + (itemTitle !== null ? ('\" title=\"' + itemTitle) : '') + '\">' + htmlEncode(itemText) + '<i class=\"material-icons\" data-role=\"remove\">close</i></span>');\r\n\t\t\t$tag.data('item', item);\r\n\t\t\tself.findInputWrapper().before($tag);\r\n\t\t\t$tag.after(' ');\r\n\r\n\t\t\tif (!dontPushVal)\r\n\t\t\t{\r\n\t\t\t\tself.pushVal();\r\n\t\t\t}\r\n\r\n\t\t\t// Add class when reached maxTags\r\n\t\t\tif (self.options.maxTags === self.itemsArray.length || self.items().toString().length === self.options.maxInputLength)\r\n\t\t\t{\r\n\t\t\t\tself.$container.addClass('materialize-tags-max');\r\n\t\t\t\tself.$input.blur();\r\n\t\t\t\tself.$input.prop('readOnly', true);\r\n\t\t\t}\r\n\r\n\t\t\tself.$element.trigger($.Event('itemAdded', {item : item, options : options}));\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Removes the given item. Pass true to dontPushVal to prevent updating the\r\n\t\t* elements val()\r\n\t\t*\r\n\t\t* @param item\r\n\t\t* @param dontPushVal\r\n\t\t* @param options\r\n\t\t*/\r\n\t\tremove : function (item, dontPushVal, options)\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tif (self.objectItems)\r\n\t\t\t{\r\n\t\t\t\tif (typeof item === \"object\")\r\n\t\t\t\t{\r\n\t\t\t\t\titem = $.grep(self.itemsArray, function (other) { return self.options.itemValue(other) == self.options.itemValue(item); });\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\titem = $.grep(self.itemsArray, function (other) { return self.options.itemValue(other) == item; });\r\n\t\t\t\t}\r\n\r\n\t\t\t\titem = item[item.length - 1];\r\n\t\t\t}\r\n\r\n\t\t\tif (item)\r\n\t\t\t{\r\n\t\t\t\tvar beforeItemRemoveEvent = $.Event('beforeItemRemove', {\r\n\t\t\t\t\titem\t: item,\r\n\t\t\t\t\tcancel  : false,\r\n\t\t\t\t\toptions : options\r\n\t\t\t\t});\r\n\t\t\t\tself.$element.trigger(beforeItemRemoveEvent);\r\n\t\t\t\tif (beforeItemRemoveEvent.cancel)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('.chip', self.$container).filter(function () { return $(this).data('item') === item; }).remove();\r\n\r\n\t\t\t\tif ($.inArray(item, self.itemsArray) !== -1)\r\n\t\t\t\t{\r\n\t\t\t\t\tself.itemsArray.splice($.inArray(item, self.itemsArray), 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!dontPushVal)\r\n\t\t\t{\r\n\t\t\t\tself.pushVal();\r\n\t\t\t}\r\n\r\n\t\t\t// Remove class when reached maxTags\r\n\t\t\tif (self.options.maxTags > self.itemsArray.length)\r\n\t\t\t{\r\n\t\t\t\tself.$container.removeClass('materialize-tags-max');\r\n\t\t\t\tself.$input.prop('readOnly', false);\r\n\t\t\t}\r\n\t\t\tself.$input.blur();\r\n\t\t\tself.$element.trigger($.Event('itemRemoved', {item : item, options : options}));\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Removes all items\r\n\t\t*/\r\n\t\tremoveAll : function ()\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\r\n\t\t\t$('.chip', self.$container).remove();\r\n\r\n\t\t\twhile (self.itemsArray.length > 0)\r\n\t\t\t{\r\n\t\t\t\tself.itemsArray.pop();\r\n\t\t\t}\r\n\r\n\t\t\tself.pushVal();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Refreshes the tags so they match the text/value of their corresponding\r\n\t\t* item.\r\n\t\t*/\r\n\t\trefresh : function ()\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\t\t\t$('.chip', self.$container).each(function ()\r\n\t\t\t{\r\n\t\t\t\tvar $tag\t\t= $(this),\r\n\t\t\t\t\titem\t\t= $tag.data('item'),\r\n\t\t\t\t\titemValue   = self.options.itemValue(item),\r\n\t\t\t\t\titemText\t= self.options.itemText(item),\r\n\t\t\t\t\ttagClass\t= self.options.tagClass(item);\r\n\r\n\t\t\t\t// Update tag's class and inner text\r\n\t\t\t\t$tag.attr('class', null);\r\n\t\t\t\t$tag.addClass('tag ' + htmlEncode(tagClass));\r\n\t\t\t\t$tag.contents().filter(function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn this.nodeType == 3;\r\n\t\t\t\t})[0].nodeValue = htmlEncode(itemText);\r\n\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Returns the items added as tags\r\n\t\t*/\r\n\t\titems : function ()\r\n\t\t{\r\n\t\t\treturn this.itemsArray;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Assembly value by retrieving the value of each item, and set it on the\r\n\t\t* element.\r\n\t\t*/\r\n\t\tpushVal : function ()\r\n\t\t{\r\n\t\t\tvar self = this,\r\n\t\t\t\tval  = $.map(self.items(), function (item)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn self.options.itemValue(item).toString();\r\n\t\t\t\t});\r\n\r\n\t\t\tself.$element.val(val, true).trigger('change');\r\n\t\t\tself.$input.typeahead('val', '');\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Initializes the tags input behaviour on the element\r\n\t\t*\r\n\t\t* @param options\r\n\t\t*/\r\n\t\tbuild : function (options)\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tself.options = $.extend({}, defaultOptions, options);\r\n\t\t\t// When itemValue is set, freeInput should always be false\r\n\r\n\t\t\tif (self.objectItems)\r\n\t\t\t{\r\n\t\t\t\tself.options.freeInput = false;\r\n\t\t\t}\r\n\r\n\t\t\tmakeOptionItemFunction(self.options, 'itemValue');\r\n\t\t\tmakeOptionItemFunction(self.options, 'itemText');\r\n\t\t\tmakeOptionFunction(self.options, 'tagClass');\r\n\r\n\t\t\t// Typeahead.js\r\n\t\t\tif (self.options.typeaheadjs)\r\n\t\t\t{\r\n\t\t\t\tvar typeaheadConfig   = null;\r\n\t\t\t\tvar typeaheadDatasets = {};\r\n\r\n\t\t\t\t// Determine if main configurations were passed or simply a dataset\r\n\t\t\t\tvar typeaheadjs = self.options.typeaheadjs;\r\n\t\t\t\tif ($.isArray(typeaheadjs))\r\n\t\t\t\t{\r\n\t\t\t\t\ttypeaheadConfig   = typeaheadjs[0];\r\n\t\t\t\t\ttypeaheadDatasets = typeaheadjs[1];\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\ttypeaheadDatasets = typeaheadjs;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.$input.typeahead(typeaheadConfig, typeaheadDatasets).on('typeahead:selected', $.proxy(function (obj, datum)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (typeaheadDatasets.valueKey)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tself.add(datum[typeaheadDatasets.valueKey]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tself.add(datum);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.$input.typeahead('val', '');\r\n\t\t\t\t}, self));\r\n\t\t\t}\r\n\r\n\t\t\tself.$container.on('click', $.proxy(function (event)\r\n\t\t\t{\r\n\t\t\t\tif (!self.$element.attr('disabled'))\r\n\t\t\t\t{\r\n\t\t\t\t\tself.$input.removeAttr('disabled');\r\n\t\t\t\t}\r\n\t\t\t\tself.$input.focus();\r\n\t\t\t}, self));\r\n\r\n\t\t\tif (self.options.addOnBlur && self.options.freeInput)\r\n\t\t\t{\r\n\t\t\t\tself.$input.on('focusout', $.proxy(function (event)\r\n\t\t\t\t{\r\n\t\t\t\t\tself.add(self.$input.val());\r\n\r\n\t\t\t\t}, self));\r\n\t\t\t}\r\n\r\n\t\t\tself.$container.on('keydown', 'input', $.proxy(function (event)\r\n\t\t\t{\r\n\t\t\t\tvar $input\t\t= $(event.target),\r\n\t\t\t\t\t$inputWrapper = self.findInputWrapper();\r\n\r\n\t\t\t\tif (self.$element.attr('disabled'))\r\n\t\t\t\t{\r\n\t\t\t\t\tself.$input.attr('disabled', 'disabled');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tswitch (event.which)\r\n\t\t\t\t{\r\n\t\t\t\t\t// BACKSPACE\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\tif (self.options.deleteTagsOnBackspace && doGetCaretPosition($input[0]) === 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar prev = $inputWrapper.prev();\r\n\t\t\t\t\t\t\tif (prev)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tself.remove(prev.data('item'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// DELETE\r\n\t\t\t\t\tcase 46:\r\n\t\t\t\t\t\tif (self.options.deleteTagsOnDeleteKey && doGetCaretPosition($input[0]) === 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar next = $inputWrapper.next();\r\n\t\t\t\t\t\t\tif (next)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tself.remove(next.data('item'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// LEFT ARROW\r\n\t\t\t\t\tcase 37:\r\n\t\t\t\t\t\t// Try to move the input before the previous tag\r\n\t\t\t\t\t\tvar $prevTag = $inputWrapper.prev();\r\n\t\t\t\t\t\tif (self.options.MoveTagOnLeftArrow && $input.val().length === 0 && $prevTag[0])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$prevTag.before($inputWrapper);\r\n\t\t\t\t\t\t\t$input.focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t// RIGHT ARROW\r\n\t\t\t\t\tcase 39:\r\n\t\t\t\t\t\t// Try to move the input after the next tag\r\n\t\t\t\t\t\tvar $nextTag = $inputWrapper.next();\r\n\t\t\t\t\t\tif (self.options.MoveTagOnRightArrow && $input.val().length === 0 && $nextTag[0])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$nextTag.after($inputWrapper);\r\n\t\t\t\t\t\t\t$input.focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t// ignore\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Reset internal input's size\r\n\t\t\t\tvar textLength = $input.val().length,\r\n\t\t\t\t\twordSpace  = Math.ceil(textLength / 5),\r\n\t\t\t\t\tsize\t   = textLength + wordSpace + 1;\r\n\t\t\t\t$input.attr('size', Math.max(this.inputSize, $input.val().length));\r\n\t\t\t}, self));\r\n\r\n\t\t\tself.$container.on('keydown', 'input', $.proxy(function (event)\r\n\t\t\t{\r\n\t\t\t\tvar $input = $(event.target);\r\n\r\n\t\t\t\tif (self.$element.attr('disabled'))\r\n\t\t\t\t{\r\n\t\t\t\t\tself.$input.attr('disabled', 'disabled');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar text\t\t\t= $input.val(),\r\n\t\t\t\t\tmaxLengthReached = self.options.maxChars && text.length >= self.options.maxChars;\r\n\t\t\t\tif (self.options.freeInput && (keyCombinationInList(event, self.options.confirmKeys) || maxLengthReached))\r\n\t\t\t\t{\r\n\t\t\t\t\tself.add(maxLengthReached ? text.substr(0, self.options.maxChars) : text);\r\n\t\t\t\t\t$input.val('');\r\n\t\t\t\t\t(self.$input.typeahead) && self.$input.typeahead(\"val\",\"\");\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Reset internal input's size\r\n\t\t\t\tvar textLength = $input.val().length,\r\n\t\t\t\t\twordSpace  = Math.ceil(textLength / 5),\r\n\t\t\t\t\tsize\t  = textLength + wordSpace + 1;\r\n\t\t\t\t$input.attr('size', Math.max(this.inputSize, $input.val().length));\r\n\t\t\t}, self));\r\n\r\n\t\t\t// Remove icon clicked\r\n\t\t\tself.$container.on('click', '[data-role=remove]', $.proxy(function (event)\r\n\t\t\t{\r\n\t\t\t\tif (self.$element.attr('disabled'))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tself.remove($(event.target).closest('.chip').data('item'));\r\n\t\t\t}, self));\r\n\r\n\t\t\t// Only add existing value as tags when using strings as tags\r\n\t\t\tif (self.options.itemValue === defaultOptions.itemValue)\r\n\t\t\t{\r\n\t\t\t\tif (self.$element[0].tagName === 'INPUT')\r\n\t\t\t\t{\r\n\t\t\t\t\tself.add(self.$element.val());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Removes all materialtags behaviour and unregsiter all event handlers\r\n\t\t*/\r\n\t\tdestroy : function ()\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\r\n\t\t\t// Unbind events\r\n\t\t\tself.$container.off('keydown', 'input');\r\n\t\t\tself.$container.off('click', '[role=remove]');\r\n\r\n\t\t\tself.$container.remove();\r\n\t\t\tself.$element.removeData('materialtags');\r\n\t\t\tself.$element.show();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Sets focus on the materialtags\r\n\t\t*/\r\n\t\tfocus : function ()\r\n\t\t{\r\n\t\t\tthis.$input.focus();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Returns the internal input element\r\n\t\t*/\r\n\t\tinput : function ()\r\n\t\t{\r\n\t\t\treturn this.$input;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Returns the element which is wrapped around the internal input. This\r\n\t\t* is normally the $container, but typeahead.js moves the $input element.\r\n\t\t*/\r\n\t\tfindInputWrapper : function ()\r\n\t\t{\r\n\t\t\tvar elt\t  = this.$input[0],\r\n\t\t\t\tcontainer = this.$container[0];\r\n\t\t\twhile (elt && elt.parentNode !== container)\r\n\t\t\t{\r\n\t\t\t\telt = elt.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\treturn $(elt);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t* Register JQuery plugin\r\n\t*\r\n\t* @param arg1\r\n\t* @param arg2\r\n\t* @param arg3\r\n\t* @returns {Array}\r\n\t*/\r\n\t$.fn.materialtags = function (arg1, arg2, arg3)\r\n\t{\r\n\t\tvar results = [];\r\n\r\n\t\tthis.each(function ()\r\n\t\t{\r\n\t\t\tvar materialtags = $(this).data('materialtags');\r\n\t\t\t// Initialize a new material tags input\r\n\t\t\tif (!materialtags)\r\n\t\t\t{\r\n\t\t\t\tmaterialtags = new TagsMaterialize(this, arg1);\r\n\t\t\t\t$(this).data('materialtags', materialtags);\r\n\t\t\t\tresults.push(materialtags);\r\n\r\n\t\t\t\t// Init tags from $(this).val()\r\n\t\t\t\t$(this).val($(this).val());\r\n\t\t\t}\r\n\t\t\telse if (!arg1 && !arg2)\r\n\t\t\t{\r\n\t\t\t\t// materialtags already exists\r\n\t\t\t\t// no function, trying to init\r\n\t\t\t\tresults.push(materialtags);\r\n\t\t\t}\r\n\t\t\telse if (materialtags[arg1] !== undefined)\r\n\t\t\t{\r\n\t\t\t\t// Invoke function on existing tags input\r\n\t\t\t\tif (materialtags[arg1].length === 3 && arg3 !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar retVal = materialtags[arg1](arg2, null, arg3);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar retVal = materialtags[arg1](arg2);\r\n\t\t\t\t}\r\n\t\t\t\tif (retVal !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tresults.push(retVal);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (typeof arg1 == 'string')\r\n\t\t{\r\n\t\t\t// Return the results from the invoked function calls\r\n\t\t\treturn results.length > 1 ? results : results[0];\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn results;\r\n\t\t}\r\n\t};\r\n\r\n\t$.fn.materialtags.defaults = defaultOptions;\r\n\t$.fn.materialtags.Constructor = TagsMaterialize;\r\n\r\n\t/**\r\n\t* Most options support both a string or number as well as a function as\r\n\t* option value. This function makes sure that the option with the given\r\n\t* key in the given options is wrapped in a function\r\n\t*\r\n\t* @param options\r\n\t* @param key\r\n\t*/\r\n\tfunction makeOptionItemFunction(options, key)\r\n\t{\r\n\t\tif (typeof options[key] !== 'function')\r\n\t\t{\r\n\t\t\tvar propertyName = options[key];\r\n\t\t\toptions[key]\t= function (item) { return item[propertyName]; };\r\n\t\t}\r\n\t}\r\n\r\n\tfunction makeOptionFunction(options, key)\r\n\t{\r\n\t\tif (typeof options[key] !== 'function')\r\n\t\t{\r\n\t\t\tvar value\t= options[key];\r\n\t\t\toptions[key] = function () { return value; };\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* HtmlEncodes the given value\r\n\t*/\r\n\tvar htmlEncodeContainer = $('<div />');\r\n\r\n\tfunction htmlEncode(value)\r\n\t{\r\n\t\tif (value)\r\n\t\t{\r\n\t\t\treturn htmlEncodeContainer.text(value).html();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn '';\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* Returns the position of the caret in the given input field\r\n\t* http://flightschool.acylt.com/devnotes/caret-position-woes/\r\n\t*\r\n\t* @param oField\r\n\t* @returns {number}\r\n\t*/\r\n\tfunction doGetCaretPosition(oField)\r\n\t{\r\n\t\tvar iCaretPos = 0;\r\n\t\tif (document.selection)\r\n\t\t{\r\n\t\t\toField.focus();\r\n\t\t\tvar oSel  = document.selection.createRange();\r\n\t\t\toSel.moveStart('character', -oField.value.length);\r\n\t\t\tiCaretPos = oSel.text.length;\r\n\t\t}\r\n\t\telse if (oField.selectionStart || oField.selectionStart == '0')\r\n\t\t{\r\n\t\t\tiCaretPos = oField.selectionStart;\r\n\t\t}\r\n\t\treturn (iCaretPos);\r\n\t}\r\n\r\n\t/**\r\n\t* Returns boolean indicates whether user has pressed an expected key combination.\r\n\t* http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\r\n\t* [13, {which: 188, shiftKey: true}]\r\n\t*\r\n\t* @param keyDownEvent\r\n\t* @param lookupList\r\n\t* @returns {boolean}\r\n\t*/\r\n\tfunction keyCombinationInList(keyDownEvent, lookupList)\r\n\t{\r\n\t\tvar found = false;\r\n\t\t$.each(lookupList, function (index, keyCombination)\r\n\t\t{\r\n\t\t\tif (typeof (keyCombination) === 'number' && keyDownEvent.which === keyCombination)\r\n\t\t\t{\r\n\t\t\t\tfound = true;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (keyDownEvent.which === keyCombination.which)\r\n\t\t\t{\r\n\t\t\t\tvar alt   = !keyCombination.hasOwnProperty('altKey') || keyDownEvent.altKey === keyCombination.altKey,\r\n\t\t\t\t\tshift = !keyCombination.hasOwnProperty('shiftKey') || keyDownEvent.shiftKey === keyCombination.shiftKey,\r\n\t\t\t\t\tctrl  = !keyCombination.hasOwnProperty('ctrlKey') || keyDownEvent.ctrlKey === keyCombination.ctrlKey;\r\n\t\t\t\tif (alt && shift && ctrl)\r\n\t\t\t\t{\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn found;\r\n\t}\r\n\r\n\t/**\r\n\t* Initialize materialtags behaviour on inputs which have\r\n\t* data-role=materialtags\r\n\t*/\r\n\t$(function ()\r\n\t{\r\n\t\t$(\"input[data-role=materialtags]\").materialtags();\r\n\t});\r\n})(window.jQuery);\r\n(function ($)\r\n{\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t* Default Configuration\r\n\t*\r\n\t* @type {{tagClass: tagClass, itemValue: itemValue, itemText: itemText, itemTitle: itemTitle, freeInput: boolean, addOnBlur: boolean, maxTags: undefined, maxChars: undefined, confirmKeys: number[], onTagExists: onTagExists, trimValue: boolean, allowDuplicates: boolean}}\r\n\t*/\r\n\tvar defaultOptions = {\r\n\t\ttagClass\t\t\t\t\t: tagClass,\r\n\t\titemValue\t\t\t\t\t: itemValue,\r\n\t\titemText\t\t\t\t\t: itemText,\r\n\t\titemTitle\t\t\t\t\t: itemTitle,\r\n\t\tfreeInput\t\t\t\t\t: true,\r\n\t\taddOnBlur\t\t\t\t\t: true,\r\n\t\tmaxTags\t\t\t\t\t\t: undefined,\r\n\t\tmaxChars\t\t\t\t\t: undefined,\r\n\t\tconfirmKeys\t\t\t\t\t: [9,13, 44, 188],\r\n\t\tonTagExists\t\t\t\t\t: onTagExists,\r\n\t\ttrimValue\t\t\t\t\t: true,\r\n\t\tallowDuplicates \t\t\t: false,\r\n\t\tdeleteTagsOnBackspace\t\t: true,\r\n\t\tdeleteTagsOnDeleteKey\t\t: true,\r\n\t\tMoveTagOnLeftArrow\t\t\t: true,\r\n\t\tMoveTagOnRightArrow \t\t: true,\r\n\t\tautoselect\t\t\t\t\t: false,\r\n\t\tCapitalizeFirstLetterOnly\t: false,\r\n\t\tprefilled\t\t\t\t\t: null,\r\n\t};\r\n\r\n\r\n\tfunction tagClass(item)\r\n\t{\r\n\t\treturn 'chip';\r\n\t}\r\n\r\n\tfunction itemValue(item)\r\n\t{\r\n\t\treturn item ? item.toString() : item;\r\n\t}\r\n\r\n\tfunction itemText(item)\r\n\t{\r\n\t\treturn this.itemValue(item);\r\n\t}\r\n\r\n\tfunction itemTitle(item)\r\n\t{\r\n\t\treturn null;\r\n\t}\r\n\r\n\tfunction onTagExists(item, $tag)\r\n\t{\r\n\t\t$tag.hide().fadeIn();\r\n\t}\r\n\r\n\tfunction selectFirstSuggestion(){\r\n\t\t$('.tt-suggestion.tt-selectable').first().addClass('tt-cursor');\r\n\t\tconsole.log($('.tt-suggestion.tt-selectable'));\r\n\t}\r\n\r\n\t/**\r\n\t* Constructor function\r\n\t*\r\n\t* @param element\r\n\t* @param options\r\n\t* @constructor\r\n\t*/\r\n\tfunction TagsMaterialize(element, options)\r\n\t{\r\n\t\tthis.itemsArray = [];\r\n\r\n\t\tthis.$element = $(element);\r\n\t\tthis.$element.hide();\r\n\r\n\t\tthis.objectItems\t= options && options.itemValue;\r\n\t\tthis.placeholderText = element.hasAttribute('placeholder') ? this.$element.attr('placeholder') : '';\r\n\t\tthis.inputSize\t  = Math.max(1, this.placeholderText.length);\r\n\r\n\t\tthis.$container = $('<div class=\"materialize-tags\"></div>');\r\n\t\tthis.$input\t= $('<input type=\"text\" class=\"n-tag\"  placeholder=\"' + this.placeholderText + '\"/>').appendTo(this.$container);\r\n\t\tthis.$label\t= this.$element.parent().find('label');\r\n\r\n\t\tthis.$element.before(this.$container);\r\n\t\tthis.build(options);\r\n\r\n\t\tthis.$label.on('click', function ()\r\n\t\t{\r\n\t\t\t$(this).addClass('active');\r\n\t\t\t$(this).next('.materialize-tags').find('input.n-tag').focus();\r\n\t\t});\r\n\r\n\t\tthis.$input.on('focus', function ()\r\n\t\t{\r\n\t\t\tvar label = $(this).parents('.materialize-tags').parent().find('label');\r\n\t\t\t$(this).parents('.materialize-tags').addClass('active');\r\n\r\n\t\t\tif (!label.hasClass('active'))\r\n\t\t\t{\r\n\t\t\t\tlabel.addClass('active');\r\n\t\t\t}\r\n\t\t}).on('focusout', function ()\r\n\t\t{\r\n\t\t\tvar parentContainer = $(this).parents('.materialize-tags'),\r\n\t\t\t\ttags\t\t\t= parentContainer.find('span.chip');\r\n\t\t\tparentContainer.removeClass('active');\r\n\t\t\t// Verify if is empty and remove \"active\" class from label\r\n\t\t\tif (tags.length == 0 && $(this).val().length == 0)\r\n\t\t\t{\r\n\t\t\t\tparentContainer.parent().find('label').removeClass('active');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tTagsMaterialize.prototype = {\r\n\t\tconstructor : TagsMaterialize,\r\n\r\n\t\t/**\r\n\t\t* Adds the given item as a new tag. Pass true to dontPushVal to prevent\r\n\t\t* updating the elements val()\r\n\t\t*\r\n\t\t* @param item\r\n\t\t* @param dontPushVal\r\n\t\t* @param options\r\n\t\t*/\r\n\t\tadd : function (item, dontPushVal, options)\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tif (self.options.maxTags && self.itemsArray.length >= self.options.maxTags)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Ignore false values, except false\r\n\t\t\tif (item !== false && !item)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Trim value\r\n\t\t\tif (typeof item === \"string\" && self.options.trimValue)\r\n\t\t\t{\r\n\t\t\t\titem = $.trim(item);\r\n\t\t\t}\r\n\r\n\t\t\t// CapitalizeFirstLetter\r\n\t\t\tif (typeof item === \"string\" && self.options.CapitalizeFirstLetterOnly)\r\n\t\t\t{\r\n\t\t\t\titem = item.charAt(0).toUpperCase() + item.slice(1);\r\n\t\t\t}\r\n\r\n\t\t\t// Throw an error when trying to add an object while the itemValue option was not set\r\n\t\t\tif (typeof item === \"object\" && !self.objectItems)\r\n\t\t\t{\r\n\t\t\t\tthrow(\"Can't add objects when itemValue option is not set\");\r\n\t\t\t}\r\n\r\n\t\t\t// Ignore strings only contain whitespace\r\n\t\t\tif (item.toString().match(/^\\s*$/))\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof item === \"string\" && this.$element[0].tagName === 'INPUT')\r\n\t\t\t{\r\n\t\t\t\tvar items = item.split(',');\r\n\t\t\t\tif (items.length > 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (var i = 0; i < items.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.add(items[i], true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!dontPushVal)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tself.pushVal();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar itemValue = self.options.itemValue(item),\r\n\t\t\t\titemText  = self.options.itemText(item),\r\n\t\t\t\ttagClass  = self.options.tagClass(item),\r\n\t\t\t\titemTitle = self.options.itemTitle(item);\r\n\r\n\t\t\t// Ignore items all ready added\r\n\t\t\tvar existing = $.grep(self.itemsArray, function (item) { return self.options.itemValue(item) === itemValue; })[0];\r\n\t\t\tif (existing && !self.options.allowDuplicates)\r\n\t\t\t{\r\n\t\t\t\t// Invoke onTagExists\r\n\t\t\t\tif (self.options.onTagExists)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar $existingTag = $(\".tag\", self.$container).filter(function () { return $(this).data(\"item\") === existing; });\r\n\t\t\t\t\tself.options.onTagExists(item, $existingTag);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// if length greater than limit\r\n\t\t\tif (self.items().toString().length + item.length + 1 > self.options.maxInputLength)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// raise beforeItemAdd arg\r\n\t\t\tvar beforeItemAddEvent = $.Event('beforeItemAdd', {item : item, cancel : false, options : options});\r\n\t\t\tself.$element.trigger(beforeItemAddEvent);\r\n\t\t\tif (beforeItemAddEvent.cancel)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// register item in internal array and map\r\n\t\t\tself.itemsArray.push(item);\r\n\r\n\t\t\t// add a tag element\r\n\t\t\tvar $tag = $('<span class=\"' + htmlEncode(tagClass) + (itemTitle !== null ? ('\" title=\"' + itemTitle) : '') + '\">' + htmlEncode(itemText) + '<i class=\"material-icons\" data-role=\"remove\">close</i></span>');\r\n\t\t\t$tag.data('item', item);\r\n\t\t\tself.findInputWrapper().before($tag);\r\n\t\t\t$tag.after(' ');\r\n\r\n\t\t\tif (!dontPushVal)\r\n\t\t\t{\r\n\t\t\t\tself.pushVal();\r\n\t\t\t}\r\n\r\n\t\t\t// Add class when reached maxTags\r\n\t\t\tif (self.options.maxTags === self.itemsArray.length || self.items().toString().length === self.options.maxInputLength)\r\n\t\t\t{\r\n\t\t\t\tself.$container.addClass('materialize-tags-max');\r\n\t\t\t\tself.$input.blur();\r\n\t\t\t\tself.$input.prop('readOnly', true);\r\n\t\t\t}\r\n\r\n\t\t\tself.$element.trigger($.Event('itemAdded', {item : item, options : options}));\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Removes the given item. Pass true to dontPushVal to prevent updating the\r\n\t\t* elements val()\r\n\t\t*\r\n\t\t* @param item\r\n\t\t* @param dontPushVal\r\n\t\t* @param options\r\n\t\t*/\r\n\t\tremove : function (item, dontPushVal, options)\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tif (self.objectItems)\r\n\t\t\t{\r\n\t\t\t\tif (typeof item === \"object\")\r\n\t\t\t\t{\r\n\t\t\t\t\titem = $.grep(self.itemsArray, function (other) { return self.options.itemValue(other) == self.options.itemValue(item); });\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\titem = $.grep(self.itemsArray, function (other) { return self.options.itemValue(other) == item; });\r\n\t\t\t\t}\r\n\r\n\t\t\t\titem = item[item.length - 1];\r\n\t\t\t}\r\n\r\n\t\t\tif (item)\r\n\t\t\t{\r\n\t\t\t\tvar beforeItemRemoveEvent = $.Event('beforeItemRemove', {\r\n\t\t\t\t\titem\t: item,\r\n\t\t\t\t\tcancel  : false,\r\n\t\t\t\t\toptions : options\r\n\t\t\t\t});\r\n\t\t\t\tself.$element.trigger(beforeItemRemoveEvent);\r\n\t\t\t\tif (beforeItemRemoveEvent.cancel)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('.chip', self.$container).filter(function () { return $(this).data('item') === item; }).remove();\r\n\r\n\t\t\t\tif ($.inArray(item, self.itemsArray) !== -1)\r\n\t\t\t\t{\r\n\t\t\t\t\tself.itemsArray.splice($.inArray(item, self.itemsArray), 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!dontPushVal)\r\n\t\t\t{\r\n\t\t\t\tself.pushVal();\r\n\t\t\t}\r\n\r\n\t\t\t// Remove class when reached maxTags\r\n\t\t\tif (self.options.maxTags > self.itemsArray.length)\r\n\t\t\t{\r\n\t\t\t\tself.$container.removeClass('materialize-tags-max');\r\n\t\t\t\tself.$input.prop('readOnly', false);\r\n\t\t\t}\r\n\t\t\tself.$input.blur();\r\n\t\t\tself.$element.trigger($.Event('itemRemoved', {item : item, options : options}));\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Removes all items\r\n\t\t*/\r\n\t\tremoveAll : function ()\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\r\n\t\t\t$('.chip', self.$container).remove();\r\n\r\n\t\t\twhile (self.itemsArray.length > 0)\r\n\t\t\t{\r\n\t\t\t\tself.itemsArray.pop();\r\n\t\t\t}\r\n\r\n\t\t\tself.pushVal();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Refreshes the tags so they match the text/value of their corresponding\r\n\t\t* item.\r\n\t\t*/\r\n\t\trefresh : function ()\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\t\t\t$('.chip', self.$container).each(function ()\r\n\t\t\t{\r\n\t\t\t\tvar $tag\t\t= $(this),\r\n\t\t\t\t\titem\t\t= $tag.data('item'),\r\n\t\t\t\t\titemValue   = self.options.itemValue(item),\r\n\t\t\t\t\titemText\t= self.options.itemText(item),\r\n\t\t\t\t\ttagClass\t= self.options.tagClass(item);\r\n\r\n\t\t\t\t// Update tag's class and inner text\r\n\t\t\t\t$tag.attr('class', null);\r\n\t\t\t\t$tag.addClass('tag ' + htmlEncode(tagClass));\r\n\t\t\t\t$tag.contents().filter(function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn this.nodeType == 3;\r\n\t\t\t\t})[0].nodeValue = htmlEncode(itemText);\r\n\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Returns the items added as tags\r\n\t\t*/\r\n\t\titems : function ()\r\n\t\t{\r\n\t\t\treturn this.itemsArray;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Assembly value by retrieving the value of each item, and set it on the\r\n\t\t* element.\r\n\t\t*/\r\n\t\tpushVal : function ()\r\n\t\t{\r\n\t\t\tvar self = this,\r\n\t\t\t\tval  = $.map(self.items(), function (item)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn self.options.itemValue(item).toString();\r\n\t\t\t\t});\r\n\r\n\t\t\tself.$element.val(val, true).trigger('change');\r\n\t\t\tself.$input.typeahead('val', '');\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Initializes the tags input behaviour on the element\r\n\t\t*\r\n\t\t* @param options\r\n\t\t*/\r\n\t\tbuild : function (options)\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tself.options = $.extend({}, defaultOptions, options);\r\n\t\t\t// When itemValue is set, freeInput should always be false\r\n\r\n\t\t\tif (self.objectItems)\r\n\t\t\t{\r\n\t\t\t\tself.options.freeInput = false;\r\n\t\t\t}\r\n\r\n\t\t\tmakeOptionItemFunction(self.options, 'itemValue');\r\n\t\t\tmakeOptionItemFunction(self.options, 'itemText');\r\n\t\t\tmakeOptionFunction(self.options, 'tagClass');\r\n\r\n\t\t\t// Typeahead.js\r\n\t\t\tif (self.options.typeaheadjs)\r\n\t\t\t{\r\n\t\t\t\tvar typeaheadConfig   = null;\r\n\t\t\t\tvar typeaheadDatasets = {};\r\n\r\n\t\t\t\t// Determine if main configurations were passed or simply a dataset\r\n\t\t\t\tvar typeaheadjs = self.options.typeaheadjs;\r\n\t\t\t\tif ($.isArray(typeaheadjs))\r\n\t\t\t\t{\r\n\t\t\t\t\ttypeaheadConfig   = typeaheadjs[0];\r\n\t\t\t\t\ttypeaheadDatasets = typeaheadjs[1];\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\ttypeaheadDatasets = typeaheadjs;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.$input.typeahead(typeaheadConfig, typeaheadDatasets).on('typeahead:selected', $.proxy(function (obj, datum)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (typeaheadDatasets.valueKey)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tself.add(datum[typeaheadDatasets.valueKey]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tself.add(datum);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.$input.typeahead('val', '');\r\n\t\t\t\t}, self));\r\n\t\t\t}\r\n\r\n\t\t\tself.$container.on('click', $.proxy(function (event)\r\n\t\t\t{\r\n\t\t\t\tif (!self.$element.attr('disabled'))\r\n\t\t\t\t{\r\n\t\t\t\t\tself.$input.removeAttr('disabled');\r\n\t\t\t\t}\r\n\t\t\t\tself.$input.focus();\r\n\t\t\t}, self));\r\n\r\n\t\t\tif (self.options.addOnBlur && self.options.freeInput)\r\n\t\t\t{\r\n\t\t\t\tself.$input.on('focusout', $.proxy(function (event)\r\n\t\t\t\t{\r\n\t\t\t\t\tself.add(self.$input.val());\r\n\r\n\t\t\t\t}, self));\r\n\t\t\t}\r\n\r\n\t\t\tself.$container.on('keydown', 'input', $.proxy(function (event)\r\n\t\t\t{\r\n\t\t\t\tvar $input\t\t= $(event.target),\r\n\t\t\t\t\t$inputWrapper = self.findInputWrapper();\r\n\r\n\t\t\t\tif (self.$element.attr('disabled'))\r\n\t\t\t\t{\r\n\t\t\t\t\tself.$input.attr('disabled', 'disabled');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tswitch (event.which)\r\n\t\t\t\t{\r\n\t\t\t\t\t// BACKSPACE\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\tif (self.options.deleteTagsOnBackspace && doGetCaretPosition($input[0]) === 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar prev = $inputWrapper.prev();\r\n\t\t\t\t\t\t\tif (prev)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tself.remove(prev.data('item'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// DELETE\r\n\t\t\t\t\tcase 46:\r\n\t\t\t\t\t\tif (self.options.deleteTagsOnDeleteKey && doGetCaretPosition($input[0]) === 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar next = $inputWrapper.next();\r\n\t\t\t\t\t\t\tif (next)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tself.remove(next.data('item'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// LEFT ARROW\r\n\t\t\t\t\tcase 37:\r\n\t\t\t\t\t\t// Try to move the input before the previous tag\r\n\t\t\t\t\t\tvar $prevTag = $inputWrapper.prev();\r\n\t\t\t\t\t\tif (self.options.MoveTagOnLeftArrow && $input.val().length === 0 && $prevTag[0])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$prevTag.before($inputWrapper);\r\n\t\t\t\t\t\t\t$input.focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t// RIGHT ARROW\r\n\t\t\t\t\tcase 39:\r\n\t\t\t\t\t\t// Try to move the input after the next tag\r\n\t\t\t\t\t\tvar $nextTag = $inputWrapper.next();\r\n\t\t\t\t\t\tif (self.options.MoveTagOnRightArrow && $input.val().length === 0 && $nextTag[0])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$nextTag.after($inputWrapper);\r\n\t\t\t\t\t\t\t$input.focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t// ignore\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Reset internal input's size\r\n\t\t\t\tvar textLength = $input.val().length,\r\n\t\t\t\t\twordSpace  = Math.ceil(textLength / 5),\r\n\t\t\t\t\tsize\t   = textLength + wordSpace + 1;\r\n\t\t\t\t$input.attr('size', Math.max(this.inputSize, $input.val().length));\r\n\t\t\t}, self));\r\n\r\n\t\t\tself.$container.on('keydown', 'input', $.proxy(function (event)\r\n\t\t\t{\r\n\t\t\t\tvar $input = $(event.target);\r\n\r\n\t\t\t\tif (self.$element.attr('disabled'))\r\n\t\t\t\t{\r\n\t\t\t\t\tself.$input.attr('disabled', 'disabled');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar text\t\t\t= $input.val(),\r\n\t\t\t\t\tmaxLengthReached = self.options.maxChars && text.length >= self.options.maxChars;\r\n\t\t\t\tif (self.options.freeInput && (keyCombinationInList(event, self.options.confirmKeys) || maxLengthReached))\r\n\t\t\t\t{\r\n\t\t\t\t\tself.add(maxLengthReached ? text.substr(0, self.options.maxChars) : text);\r\n\t\t\t\t\t$input.val('');\r\n\t\t\t\t\t(self.$input.typeahead) && self.$input.typeahead(\"val\",\"\");\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Reset internal input's size\r\n\t\t\t\tvar textLength = $input.val().length,\r\n\t\t\t\t\twordSpace  = Math.ceil(textLength / 5),\r\n\t\t\t\t\tsize\t  = textLength + wordSpace + 1;\r\n\t\t\t\t$input.attr('size', Math.max(this.inputSize, $input.val().length));\r\n\t\t\t}, self));\r\n\r\n\t\t\t// Remove icon clicked\r\n\t\t\tself.$container.on('click', '[data-role=remove]', $.proxy(function (event)\r\n\t\t\t{\r\n\t\t\t\tif (self.$element.attr('disabled'))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tself.remove($(event.target).closest('.chip').data('item'));\r\n\t\t\t}, self));\r\n\r\n\t\t\t// Only add existing value as tags when using strings as tags\r\n\t\t\tif (self.options.itemValue === defaultOptions.itemValue)\r\n\t\t\t{\r\n\t\t\t\tif (self.$element[0].tagName === 'INPUT')\r\n\t\t\t\t{\r\n\t\t\t\t\tself.add(self.$element.val());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Removes all materialtags behaviour and unregsiter all event handlers\r\n\t\t*/\r\n\t\tdestroy : function ()\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\r\n\t\t\t// Unbind events\r\n\t\t\tself.$container.off('keydown', 'input');\r\n\t\t\tself.$container.off('click', '[role=remove]');\r\n\r\n\t\t\tself.$container.remove();\r\n\t\t\tself.$element.removeData('materialtags');\r\n\t\t\tself.$element.show();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Sets focus on the materialtags\r\n\t\t*/\r\n\t\tfocus : function ()\r\n\t\t{\r\n\t\t\tthis.$input.focus();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Returns the internal input element\r\n\t\t*/\r\n\t\tinput : function ()\r\n\t\t{\r\n\t\t\treturn this.$input;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t* Returns the element which is wrapped around the internal input. This\r\n\t\t* is normally the $container, but typeahead.js moves the $input element.\r\n\t\t*/\r\n\t\tfindInputWrapper : function ()\r\n\t\t{\r\n\t\t\tvar elt\t  = this.$input[0],\r\n\t\t\t\tcontainer = this.$container[0];\r\n\t\t\twhile (elt && elt.parentNode !== container)\r\n\t\t\t{\r\n\t\t\t\telt = elt.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\treturn $(elt);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t* Register JQuery plugin\r\n\t*\r\n\t* @param arg1\r\n\t* @param arg2\r\n\t* @param arg3\r\n\t* @returns {Array}\r\n\t*/\r\n\t$.fn.materialtags = function (arg1, arg2, arg3)\r\n\t{\r\n\t\tvar results = [];\r\n\r\n\t\tthis.each(function ()\r\n\t\t{\r\n\t\t\tvar materialtags = $(this).data('materialtags');\r\n\t\t\t// Initialize a new material tags input\r\n\t\t\tif (!materialtags)\r\n\t\t\t{\r\n\t\t\t\tmaterialtags = new TagsMaterialize(this, arg1);\r\n\t\t\t\t$(this).data('materialtags', materialtags);\r\n\t\t\t\tresults.push(materialtags);\r\n\r\n\t\t\t\t// Init tags from $(this).val()\r\n\t\t\t\t$(this).val($(this).val());\r\n\t\t\t}\r\n\t\t\telse if (!arg1 && !arg2)\r\n\t\t\t{\r\n\t\t\t\t// materialtags already exists\r\n\t\t\t\t// no function, trying to init\r\n\t\t\t\tresults.push(materialtags);\r\n\t\t\t}\r\n\t\t\telse if (materialtags[arg1] !== undefined)\r\n\t\t\t{\r\n\t\t\t\t// Invoke function on existing tags input\r\n\t\t\t\tif (materialtags[arg1].length === 3 && arg3 !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar retVal = materialtags[arg1](arg2, null, arg3);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar retVal = materialtags[arg1](arg2);\r\n\t\t\t\t}\r\n\t\t\t\tif (retVal !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tresults.push(retVal);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (typeof arg1 == 'string')\r\n\t\t{\r\n\t\t\t// Return the results from the invoked function calls\r\n\t\t\treturn results.length > 1 ? results : results[0];\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn results;\r\n\t\t}\r\n\t};\r\n\r\n\t$.fn.materialtags.defaults = defaultOptions;\r\n\t$.fn.materialtags.Constructor = TagsMaterialize;\r\n\r\n\t/**\r\n\t* Most options support both a string or number as well as a function as\r\n\t* option value. This function makes sure that the option with the given\r\n\t* key in the given options is wrapped in a function\r\n\t*\r\n\t* @param options\r\n\t* @param key\r\n\t*/\r\n\tfunction makeOptionItemFunction(options, key)\r\n\t{\r\n\t\tif (typeof options[key] !== 'function')\r\n\t\t{\r\n\t\t\tvar propertyName = options[key];\r\n\t\t\toptions[key]\t= function (item) { return item[propertyName]; };\r\n\t\t}\r\n\t}\r\n\r\n\tfunction makeOptionFunction(options, key)\r\n\t{\r\n\t\tif (typeof options[key] !== 'function')\r\n\t\t{\r\n\t\t\tvar value\t= options[key];\r\n\t\t\toptions[key] = function () { return value; };\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* HtmlEncodes the given value\r\n\t*/\r\n\tvar htmlEncodeContainer = $('<div />');\r\n\r\n\tfunction htmlEncode(value)\r\n\t{\r\n\t\tif (value)\r\n\t\t{\r\n\t\t\treturn htmlEncodeContainer.text(value).html();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn '';\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* Returns the position of the caret in the given input field\r\n\t* http://flightschool.acylt.com/devnotes/caret-position-woes/\r\n\t*\r\n\t* @param oField\r\n\t* @returns {number}\r\n\t*/\r\n\tfunction doGetCaretPosition(oField)\r\n\t{\r\n\t\tvar iCaretPos = 0;\r\n\t\tif (document.selection)\r\n\t\t{\r\n\t\t\toField.focus();\r\n\t\t\tvar oSel  = document.selection.createRange();\r\n\t\t\toSel.moveStart('character', -oField.value.length);\r\n\t\t\tiCaretPos = oSel.text.length;\r\n\t\t}\r\n\t\telse if (oField.selectionStart || oField.selectionStart == '0')\r\n\t\t{\r\n\t\t\tiCaretPos = oField.selectionStart;\r\n\t\t}\r\n\t\treturn (iCaretPos);\r\n\t}\r\n\r\n\t/**\r\n\t* Returns boolean indicates whether user has pressed an expected key combination.\r\n\t* http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\r\n\t* [13, {which: 188, shiftKey: true}]\r\n\t*\r\n\t* @param keyDownEvent\r\n\t* @param lookupList\r\n\t* @returns {boolean}\r\n\t*/\r\n\tfunction keyCombinationInList(keyDownEvent, lookupList)\r\n\t{\r\n\t\tvar found = false;\r\n\t\t$.each(lookupList, function (index, keyCombination)\r\n\t\t{\r\n\t\t\tif (typeof (keyCombination) === 'number' && keyDownEvent.which === keyCombination)\r\n\t\t\t{\r\n\t\t\t\tfound = true;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (keyDownEvent.which === keyCombination.which)\r\n\t\t\t{\r\n\t\t\t\tvar alt   = !keyCombination.hasOwnProperty('altKey') || keyDownEvent.altKey === keyCombination.altKey,\r\n\t\t\t\t\tshift = !keyCombination.hasOwnProperty('shiftKey') || keyDownEvent.shiftKey === keyCombination.shiftKey,\r\n\t\t\t\t\tctrl  = !keyCombination.hasOwnProperty('ctrlKey') || keyDownEvent.ctrlKey === keyCombination.ctrlKey;\r\n\t\t\t\tif (alt && shift && ctrl)\r\n\t\t\t\t{\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn found;\r\n\t}\r\n\r\n\t/**\r\n\t* Initialize materialtags behaviour on inputs which have\r\n\t* data-role=materialtags\r\n\t*/\r\n\t$(function ()\r\n\t{\r\n\t\t$(\"input[data-role=materialtags]\").materialtags();\r\n\t});\r\n})(window.jQuery);\r\n"]}